{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,A,W,iB,C,E,E,Q,C,E,Q,S,C,C,C,E,O,c,C,E,O,C,a,C,M,C,E,a,C,C,G,E,E,O,C,U,I,G,I,E,E,S,E,E,S,E,E,S,E,E,SCIA,IAAM,EAAc,AAAA,CAAA,EAAA,EAAA,IAAG,AAAH,EAAK,IAAzB,EAAA,UACM,EAAiB,AAAA,CAAA,EAAA,EAAA,IAAG,AAAH,EAAK,IAA5B,EAAA,UAwCA,IAAA,EAtCuB,KACrB,GAAM,CAAC,EAAgB,EAAkB,CAAG,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAAS,YAYrD,CAVA,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAAU,KAOR,AANA,CAAA,iBACE,IAAM,EAAO,MAAM,AAAA,CAAA,EAAA,EAAA,OAAkB,AAAlB,IACnB,EAAkB,GAClB,QAAQ,GAAG,CAAC,EACd,CAAA,GAGF,EAAG,EAAE,EAED,AAAmB,OAAnB,GACK,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAA,OAAO,CADjB,CAAA,GAII,AAAuC,CAAA,IAAvC,EAAe,mBAAmB,CAElC,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAA,QAAO,CAFZ,CAEc,SAAU,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAA,OAAO,CAAlB,CAAA,GACR,SAAA,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAD,CACE,cAAe,EAAe,cAAc,CAC5C,aAAc,EAAe,aAAa,A,E,GAM9C,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAA,QAAO,CADV,CACY,SAAU,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAA,OAAO,CAAlB,CAAA,GACR,SAAA,AAAA,CAAA,EAAA,EAAA,GAAA,AAAA,EAAC,EAAD,CACE,cAAe,EAAe,cAAc,CAC5C,aAAc,EAAe,aAAa,A,E,EAKpD,C,G,E,Q,S,C,C,C,E,E,E,O,C,U,I,GCvBA,IAAA,EApB4B,MAAO,IACjC,IAAI,EAAM,EAAK,CAAC,0BAA0B,EAAE,EAAG,CAAC,CAAC,CAAG,iBACpD,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,GAC7B,GAAI,CAAC,EAAS,EAAE,CAEd,MADA,MAAM,kCACA,AAAI,MAAM,kCAElB,IAAM,EAAiB,MAAM,EAAS,IAAI,GAK1C,OAFA,EAAe,cAAiB,CAC9B,EAAe,cAAiB,CAAC,IAAI,CAFnB,CAAC,EAAG,IAAM,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI,GAGlD,CACT,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,GACP,IACT,CACF,C,G,E,Q,S,C,C,C,E,I,E,E,QCjBA,CAAA,EAAA,OAAA,CAAkB,EAAK,SAAU,IAAI,CAAC,IAAM,EAAc,S,G,E,Q,S,C,C,C,E,I,E,E,QCA1D,CAAA,EAAA,OAAA,CAAkB,EAAK,SAAU,IAAI,CAAC,IAAM,EAAc,S","sources":["<anon>","src/pages/AttendancePage.jsx","src/repository/fetchAttendanceData.js","node_modules/@parcel/runtime-js/lib/runtime-e36e15229a74ecc1.js","node_modules/@parcel/runtime-js/lib/runtime-bbb8651677976faf.js"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire2e1e\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"aiPkm\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $9470fd3e9c2d025a$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $1uOJd = parcelRequire(\"1uOJd\");\n\nvar $br3ru = parcelRequire(\"br3ru\");\n\nconst $9470fd3e9c2d025a$var$StudentPage = /*#__PURE__*/ (0, $acw62.lazy)(()=>(parcelRequire(\"9tjeq\")));\n\nconst $9470fd3e9c2d025a$var$InstructorPage = /*#__PURE__*/ (0, $acw62.lazy)(()=>(parcelRequire(\"dxrsi\")));\nconst $9470fd3e9c2d025a$var$AttendancePage = ()=>{\n    const [attendanceData, setAttendanceData] = (0, $acw62.useState)(null);\n    (0, $acw62.useEffect)(()=>{\n        async function fetchData() {\n            const data = await (0, $br3ru.default)();\n            setAttendanceData(data);\n            console.log(data);\n        }\n        fetchData();\n    }, []);\n    if (attendanceData === null) return /*#__PURE__*/ (0, $ayMG0.jsx)((0, $1uOJd.default), {});\n    if (attendanceData.can_mark_attendance === true) return /*#__PURE__*/ (0, $ayMG0.jsx)((0, $acw62.Suspense), {\n        fallback: /*#__PURE__*/ (0, $ayMG0.jsx)((0, $1uOJd.default), {}),\n        children: /*#__PURE__*/ (0, $ayMG0.jsx)($9470fd3e9c2d025a$var$InstructorPage, {\n            allAttendance: attendanceData.all_attendance,\n            classDetails: attendanceData.current_class\n        })\n    });\n    else return /*#__PURE__*/ (0, $ayMG0.jsx)((0, $acw62.Suspense), {\n        fallback: /*#__PURE__*/ (0, $ayMG0.jsx)((0, $1uOJd.default), {}),\n        children: /*#__PURE__*/ (0, $ayMG0.jsx)($9470fd3e9c2d025a$var$StudentPage, {\n            allAttendance: attendanceData.all_attendance,\n            classDetails: attendanceData.current_class\n        })\n    });\n};\nvar $9470fd3e9c2d025a$export$2e2bcd8739ae039 = $9470fd3e9c2d025a$var$AttendancePage;\n\n});\nparcelRegister(\"br3ru\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $8534e2e74d4d12c7$export$2e2bcd8739ae039);\nconst $8534e2e74d4d12c7$var$fetchAttendanceData = async (pk)=>{\n    let url = pk ? `/attendance/getAttendance/${pk}/` : getAttendanceURL;\n    try {\n        const response = await fetch(url);\n        if (!response.ok) {\n            alert(\"Failed to fetch course details\");\n            throw new Error(\"Failed to fetch course details\");\n        }\n        const attendanceData = await response.json();\n        const sortByEmail = (a, b)=>a.mail.localeCompare(b.mail);\n        attendanceData[\"all_attendance\"] = attendanceData[\"all_attendance\"].sort(sortByEmail);\n        return attendanceData;\n    } catch (error) {\n        console.error(error);\n        return null;\n    }\n};\nvar $8534e2e74d4d12c7$export$2e2bcd8739ae039 = $8534e2e74d4d12c7$var$fetchAttendanceData;\n\n});\n\nparcelRegister(\"9tjeq\", function(module, exports) {\n\nvar $Gr8vk = parcelRequire(\"Gr8vk\");\nmodule.exports = $Gr8vk(\"dueDc\").then(()=>parcelRequire(\"jm23Y\"));\n\n});\n\nparcelRegister(\"dxrsi\", function(module, exports) {\n\nvar $Gr8vk = parcelRequire(\"Gr8vk\");\nmodule.exports = $Gr8vk(\"bmCUF\").then(()=>parcelRequire(\"5EpUM\"));\n\n});\n\n\n\n//# sourceMappingURL=AttendancePage.fcc8cd37.js.map\n","import React, { lazy, Suspense, useEffect, useState } from \"react\";\nimport Progress from \"../components/Progress\";\nimport fetchAttendanceData from \"../repository/fetchAttendanceData\";\n\nconst StudentPage = lazy(() => import(\"./StudentPage\"));\nconst InstructorPage = lazy(() => import(\"./InstructorPage\"));\n\nconst AttendancePage = () => {\n  const [attendanceData, setAttendanceData] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      const data = await fetchAttendanceData();\n      setAttendanceData(data);\n      console.log(data);\n    }\n\n    fetchData();\n  }, []);\n\n  if (attendanceData === null) {\n    return <Progress />;\n  }\n\n  if (attendanceData.can_mark_attendance === true) {\n    return (\n      <Suspense fallback={<Progress />}>\n        <InstructorPage\n          allAttendance={attendanceData.all_attendance}\n          classDetails={attendanceData.current_class}\n        />\n      </Suspense>\n    );\n  } else {\n    return (\n      <Suspense fallback={<Progress />}>\n        <StudentPage\n          allAttendance={attendanceData.all_attendance}\n          classDetails={attendanceData.current_class}\n        />\n      </Suspense>\n    );\n  }\n};\n\nexport default AttendancePage;\n","const fetchAttendanceData = async (pk) => {\n  let url = pk ? `/attendance/getAttendance/${pk}/` : getAttendanceURL;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      alert(\"Failed to fetch course details\");\n      throw new Error(\"Failed to fetch course details\");\n    }\n    const attendanceData = await response.json();\n\n    const sortByEmail = (a, b) => a.mail.localeCompare(b.mail);\n    attendanceData[\"all_attendance\"] =\n      attendanceData[\"all_attendance\"].sort(sortByEmail);\n    return attendanceData;\n  } catch (error) {\n    console.error(error);\n    return null;\n  }\n};\n\nexport default fetchAttendanceData;\n","let load = require('./helpers/browser/esm-js-loader');\nmodule.exports = (load(\"dueDc\")).then(() => parcelRequire('jm23Y'));","let load = require('./helpers/browser/esm-js-loader');\nmodule.exports = (load(\"bmCUF\")).then(() => parcelRequire('5EpUM'));"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","value","$9470fd3e9c2d025a$export$2e2bcd8739ae039","$ayMG0","$acw62","$1uOJd","$br3ru","$9470fd3e9c2d025a$var$StudentPage","lazy","$9470fd3e9c2d025a$var$InstructorPage","attendanceData","setAttendanceData","useState","useEffect","fetchData","data","default","console","log","jsx","can_mark_attendance","Suspense","fallback","children","allAttendance","all_attendance","classDetails","current_class","$8534e2e74d4d12c7$export$2e2bcd8739ae039","pk","url","getAttendanceURL","response","fetch","ok","alert","Error","json","sort","a","b","mail","localeCompare","error","$Gr8vk","then"],"version":3,"file":"AttendancePage.fcc8cd37.js.map"}