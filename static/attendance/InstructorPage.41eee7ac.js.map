{"mappings":"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","sources":["<anon>","src/pages/InstructorPage.jsx","src/components/StudentRow.jsx","src/repository/markAttendance.js","src/components/Header.jsx"],"sourcesContent":["\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true, configurable: true});\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequire2e1e\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"5EpUM\", function(module, exports) {\n\n$parcel$defineInteropFlag(module.exports);\n\n$parcel$export(module.exports, \"default\", () => $62149a6d9d3ba5e1$export$2e2bcd8739ae039);\n// InstructorPage.js\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $6usw5 = parcelRequire(\"6usw5\");\n\nvar $jEyqx = parcelRequire(\"jEyqx\");\n\nvar $8Qx3l = parcelRequire(\"8Qx3l\");\n\nvar $8oTda = parcelRequire(\"8oTda\");\nconst $62149a6d9d3ba5e1$var$InstructorPage = ({ allAttendance: allAttendance, classDetails: classDetails })=>{\n    const [syncingSet, setSyncingSet] = (0, $acw62.useState)(new Set());\n    const [syncFailedSet, setSyncFailedSet] = (0, $acw62.useState)(new Set());\n    function addToSyncing(mail) {\n        const newSyncingSet = new Set(syncingSet);\n        newSyncingSet.add(mail);\n        setSyncingSet(newSyncingSet);\n    }\n    function removeFromSyncing(mail) {\n        const newSyncingSet = new Set(syncingSet);\n        newSyncingSet.delete(mail);\n        setSyncingSet(newSyncingSet);\n    }\n    function addToSyncingFailed(mail) {\n        const newSyncingSet = new Set(syncFailedSet);\n        newSyncingSet.add(mail);\n        setSyncFailedSet(newSyncingSet);\n    }\n    function removeFromSyncingFailed(mail) {\n        const newSyncingSet = new Set(syncFailedSet);\n        newSyncingSet.delete(mail);\n        setSyncFailedSet(newSyncingSet);\n    }\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $8oTda.default), {\n                student: false,\n                classDetails: classDetails\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"a\", {\n                href: \"/admin/attendance/subjectclass/\",\n                className: \"rounded border-2\",\n                type: \"button\",\n                children: \"Search differen class\"\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"fixed top-10 right-4 z-50 flex gap-2 \",\n                children: [\n                    syncingSet.size > 0 && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"font-medium gap-1 text-center\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"font-bold text-xl\",\n                                children: syncingSet.size\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $jEyqx.FontAwesomeIcon), {\n                                icon: (0, $8Qx3l.faSyncAlt),\n                                spin: true,\n                                size: \"2x\",\n                                color: \"blue\"\n                            })\n                        ]\n                    }),\n                    syncFailedSet.size > 0 && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"font-medium gap-1 text-center\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: \"font-bold text-xl\",\n                                children: syncFailedSet.size\n                            }),\n                            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $jEyqx.FontAwesomeIcon), {\n                                icon: (0, $8Qx3l.faCircleExclamation),\n                                size: \"2x\",\n                                color: \"red\"\n                            })\n                        ]\n                    }),\n                    \"\"\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"div\", {\n                className: \"h-full w-full\",\n                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"table\", {\n                    className: \"w-full mt-8 text-left bg-white border border-gray-300\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"thead\", {\n                            className: \"bg-gray-200 sticky top-0 z-40\",\n                            children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                children: [\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                        className: \"py-2\",\n                                        children: \"#\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                        className: \"py-2\",\n                                        children: \"Name\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                        className: \"py-2\",\n                                        children: \"Email\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                        className: \"py-2\",\n                                        children: \"Attendance\"\n                                    }),\n                                    /*#__PURE__*/ (0, $ayMG0.jsx)(\"th\", {\n                                        className: \"py-2 text-center\",\n                                        children: \"Change to\"\n                                    })\n                                ]\n                            })\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"tbody\", {\n                            className: \"overflow-y-scroll\",\n                            children: allAttendance.map((student, index)=>/*#__PURE__*/ (0, $ayMG0.jsxs)(\"tr\", {\n                                    className: index % 2 === 0 ? \"bg-gray-100\" : \"bg-white\",\n                                    children: [\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                                            className: \"py-2\",\n                                            children: index + 1\n                                        }),\n                                        /*#__PURE__*/ (0, $ayMG0.jsx)((0, $6usw5.default), {\n                                            student: student,\n                                            onSyncStart: (mail)=>{\n                                            //                    addToSyncing(mail);\n                                            //                    removeFromSyncingFailed(mail);\n                                            },\n                                            onSyncComplete: (mail)=>{\n                                            //                    removeFromSyncing(mail);\n                                            //                    removeFromSyncingFailed(mail);\n                                            },\n                                            onSyncFailed: (mail)=>{\n                                            //                    removeFromSyncing(mail);\n                                            //                    addToSyncingFailed(mail);\n                                            }\n                                        })\n                                    ]\n                                }, student.mail))\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n};\nvar $62149a6d9d3ba5e1$export$2e2bcd8739ae039 = $62149a6d9d3ba5e1$var$InstructorPage;\n\n});\nparcelRegister(\"6usw5\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $6413baa392bc17cf$export$2e2bcd8739ae039);\n// StudentRow.js\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\n\nvar $acw62 = parcelRequire(\"acw62\");\n\nvar $i4KJr = parcelRequire(\"i4KJr\");\n\nvar $8Qx3l = parcelRequire(\"8Qx3l\");\n\nvar $jEyqx = parcelRequire(\"jEyqx\");\nconst $6413baa392bc17cf$var$SyncStatusMap = {\n    Updated: 1,\n    Syncing: 2,\n    Failed: 3\n};\nconst $6413baa392bc17cf$var$StudentRow = ({ student: student, onSyncStart: onSyncStart, onSyncComplete: onSyncComplete, onSyncFailed: onSyncFailed })=>{\n    const [statusSelected, setStatusSelected] = (0, $acw62.useState)(\"\");\n    const [syncStatus, setSyncStatus] = (0, $acw62.useState)($6413baa392bc17cf$var$SyncStatusMap.Updated);\n    const syncMismatch = student.status !== (statusSelected || student.status);\n    const focusButtonCss = \"z-10 ring-2 ring-blue-700 text-blue-700\";\n    function setStatusButtonPressed(status) {\n        if (syncStatus === $6413baa392bc17cf$var$SyncStatusMap.Syncing) return;\n        setSyncStatus($6413baa392bc17cf$var$SyncStatusMap.Syncing);\n        onSyncStart(student.mail);\n        setStatusSelected(status);\n        (0, $i4KJr.default)(student.mail, status).then((response)=>{\n            student.status = response.status;\n            setSyncStatus($6413baa392bc17cf$var$SyncStatusMap.Updated);\n            onSyncComplete(student.mail);\n        }).catch(()=>{\n            setSyncStatus($6413baa392bc17cf$var$SyncStatusMap.Failed);\n            onSyncFailed(student.mail);\n        });\n    }\n    function retrySync() {\n        setStatusButtonPressed(statusSelected);\n    }\n    function getStatusStyle(status) {\n        if (status === \"Present\") return \"text-sky-700\";\n        else if (status === \"Absent\") return \"text-red-700\";\n        else if (status === \"Proxy\") return \"text-red-950\";\n        else return \"\";\n    }\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)((0, $ayMG0.Fragment), {\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                className: \"py-2\",\n                children: student.name\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                className: \"py-2\",\n                children: student.mail\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"td\", {\n                className: \"py-2 pr-2\",\n                children: [\n                    syncStatus === $6413baa392bc17cf$var$SyncStatusMap.Updated && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                        className: \"flex justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)(\"span\", {\n                                className: `${getStatusStyle(student.status)}`,\n                                children: student.status\n                            }),\n                            syncMismatch && /*#__PURE__*/ (0, $ayMG0.jsx)((0, $jEyqx.FontAwesomeIcon), {\n                                icon: (0, $8Qx3l.faExclamation),\n                                size: \"2x\",\n                                color: \"red\"\n                            })\n                        ]\n                    }),\n                    syncStatus === $6413baa392bc17cf$var$SyncStatusMap.Syncing && /*#__PURE__*/ (0, $ayMG0.jsx)((0, $jEyqx.FontAwesomeIcon), {\n                        icon: (0, $8Qx3l.faSyncAlt),\n                        spin: true,\n                        size: \"2x\",\n                        color: \"blue\"\n                    }),\n                    syncStatus === $6413baa392bc17cf$var$SyncStatusMap.Failed && /*#__PURE__*/ (0, $ayMG0.jsx)((0, $jEyqx.FontAwesomeIcon), {\n                        icon: (0, $8Qx3l.faArrowRotateRight),\n                        onClick: retrySync,\n                        size: \"2x\",\n                        color: \"red\"\n                    })\n                ]\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"td\", {\n                className: \"py-2 flex items-center\",\n                children: /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                    className: \"inline-flex rounded-md shadow-sm\",\n                    role: \"group\",\n                    children: [\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                            disabled: syncStatus === $6413baa392bc17cf$var$SyncStatusMap.Syncing,\n                            type: \"button\",\n                            className: `px-4 py-2 text-sm font-medium text-gray-900 bg-white border rounded-s-lg hover:bg-gray-100 hover:text-blue-700 ${statusSelected === \"Present\" ? focusButtonCss : \"\"}`,\n                            onClick: ()=>{\n                                setStatusButtonPressed(\"Present\");\n                            },\n                            children: \"Present\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                            type: \"button\",\n                            className: `px-4 py-2 text-sm font-medium text-gray-900 bg-white border hover:bg-gray-100 hover:text-blue-700  ${statusSelected === \"Absent\" ? focusButtonCss : \"\"}`,\n                            onClick: ()=>{\n                                setStatusButtonPressed(\"Absent\");\n                            },\n                            children: \"Absent\"\n                        }),\n                        /*#__PURE__*/ (0, $ayMG0.jsx)(\"button\", {\n                            type: \"button\",\n                            className: `px-4 py-2 text-sm font-medium text-gray-900 bg-white border  rounded-e-lg hover:bg-gray-100 hover:text-blue-700  ${statusSelected === \"Proxy\" ? focusButtonCss : \"\"}`,\n                            onClick: ()=>{\n                                setStatusButtonPressed(\"Proxy\");\n                            },\n                            children: \"Proxy\"\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n};\nvar $6413baa392bc17cf$export$2e2bcd8739ae039 = $6413baa392bc17cf$var$StudentRow;\n\n});\nparcelRegister(\"i4KJr\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $d28cd9b8313abaa6$export$2e2bcd8739ae039);\nfunction $d28cd9b8313abaa6$var$markAttendance(mail, status) {\n    return new Promise(async (resolve, reject)=>{\n        try {\n            const response = await fetch(markAttendanceURL, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    mail: mail.toLowerCase(),\n                    status: status.toLowerCase()\n                })\n            });\n            if (response.ok) {\n                const jsonData = await response.json();\n                console.log(`Attendance of ${jsonData[\"mail\"]} marked to ${jsonData[\"status\"]}`);\n                resolve(jsonData);\n            } else reject();\n        } catch (error) {\n            reject();\n            console.error(\"Error fetching JSON data:\", error);\n        } finally{}\n    });\n}\nvar $d28cd9b8313abaa6$export$2e2bcd8739ae039 = $d28cd9b8313abaa6$var$markAttendance;\n\n});\n\n\nparcelRegister(\"8oTda\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $e9bd92b954fbb741$export$2e2bcd8739ae039);\n\nvar $ayMG0 = parcelRequire(\"ayMG0\");\nparcelRequire(\"acw62\");\n\nvar $jEyqx = parcelRequire(\"jEyqx\");\n\nvar $8Qx3l = parcelRequire(\"8Qx3l\");\nconst $e9bd92b954fbb741$var$Header = ({ classDetails: classDetails, student: student })=>{\n    return /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n        className: \"w-full flex justify-between\",\n        children: [\n            /*#__PURE__*/ (0, $ayMG0.jsx)(\"h2\", {\n                className: \"text-3xl font-medium\",\n                children: classDetails.name\n            }),\n            /*#__PURE__*/ (0, $ayMG0.jsxs)(\"div\", {\n                className: \"flex justify-evenly gap-4\",\n                children: [\n                    student && /*#__PURE__*/ (0, $ayMG0.jsxs)(\"a\", {\n                        className: \"text-blue-600\",\n                        href: \"/accounts/login\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $jEyqx.FontAwesomeIcon), {\n                                icon: (0, $8Qx3l.faLink),\n                                size: \"1x\",\n                                color: \"blue\"\n                            }),\n                            \"login\"\n                        ]\n                    }),\n                    student && /*#__PURE__*/ (0, $ayMG0.jsx)(\"p\", {\n                        children: \"This page is updated every 5 min\"\n                    }),\n                    student || /*#__PURE__*/ (0, $ayMG0.jsxs)(\"a\", {\n                        href: `${getAttendanceURL + \"download/\"}`,\n                        className: \"px-4 py-2 text-sm font-medium text-gray-900 bg-gray-300 border rounded-s-lg hover:bg-gray-100 hover:text-blue-700\",\n                        children: [\n                            /*#__PURE__*/ (0, $ayMG0.jsx)((0, $jEyqx.FontAwesomeIcon), {\n                                icon: (0, $8Qx3l.faDownload),\n                                size: \"1x\",\n                                color: \"blue\"\n                            }),\n                            \"Export to CSV\"\n                        ]\n                    })\n                ]\n            })\n        ]\n    });\n};\nvar $e9bd92b954fbb741$export$2e2bcd8739ae039 //       <FontAwesomeIcon icon={faSpinner} spin size=\"3x\" color=\"blue\" />\n = $e9bd92b954fbb741$var$Header;\n\n});\n\n\n\n//# sourceMappingURL=InstructorPage.41eee7ac.js.map\n","// InstructorPage.js\nimport React, { useState } from \"react\";\nimport StudentRow from \"../components/StudentRow\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCircleExclamation,\n  faSyncAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport Header from \"../components/Header\";\n\nconst InstructorPage = ({ allAttendance, classDetails }) => {\n  const [syncingSet, setSyncingSet] = useState(new Set());\n  const [syncFailedSet, setSyncFailedSet] = useState(new Set());\n\n  function addToSyncing(mail) {\n    const newSyncingSet = new Set(syncingSet);\n    newSyncingSet.add(mail);\n    setSyncingSet(newSyncingSet);\n  }\n  function removeFromSyncing(mail) {\n    const newSyncingSet = new Set(syncingSet);\n    newSyncingSet.delete(mail);\n    setSyncingSet(newSyncingSet);\n  }\n  function addToSyncingFailed(mail) {\n    const newSyncingSet = new Set(syncFailedSet);\n    newSyncingSet.add(mail);\n    setSyncFailedSet(newSyncingSet);\n  }\n  function removeFromSyncingFailed(mail) {\n    const newSyncingSet = new Set(syncFailedSet);\n    newSyncingSet.delete(mail);\n    setSyncFailedSet(newSyncingSet);\n  }\n\n  return (\n    <div className=\"\">\n      <Header student={false} classDetails={classDetails} />\n      <a\n        href=\"/admin/attendance/subjectclass/\"\n        className=\"rounded border-2\"\n        type=\"button\"\n      >\n        Search differen class\n      </a>\n\n      <div className=\"fixed top-10 right-4 z-50 flex gap-2 \">\n        {syncingSet.size > 0 && (\n          <div className=\"font-medium gap-1 text-center\">\n            <span className=\"font-bold text-xl\">{syncingSet.size}</span>\n            <FontAwesomeIcon icon={faSyncAlt} spin size=\"2x\" color=\"blue\" />\n          </div>\n        )}\n        {syncFailedSet.size > 0 && (\n          <div className=\"font-medium gap-1 text-center\">\n            <span className=\"font-bold text-xl\">{syncFailedSet.size}</span>\n            <FontAwesomeIcon icon={faCircleExclamation} size=\"2x\" color=\"red\" />\n          </div>\n        )}\n\n        {\"\" && (\n          <p\n            className={\n              syncStatus === \"Synced successfully\"\n                ? \"text-green-500\"\n                : \"text-red-500\"\n            }\n          >\n            {syncStatus}\n          </p>\n        )}\n      </div>\n      <div className=\"h-full w-full\">\n        <table className=\"w-full mt-8 text-left bg-white border border-gray-300\">\n          <thead className=\"bg-gray-200 sticky top-0 z-40\">\n            <tr>\n              <th className=\"py-2\">#</th>\n              <th className=\"py-2\">Name</th>\n              <th className=\"py-2\">Email</th>\n              <th className=\"py-2\">Attendance</th>\n              <th className=\"py-2 text-center\">Change to</th>\n            </tr>\n          </thead>\n          <tbody className=\"overflow-y-scroll\">\n            {allAttendance.map((student, index) => (\n              <tr\n                className={index % 2 === 0 ? \"bg-gray-100\" : \"bg-white\"}\n                key={student.mail}\n              >\n                <td className=\"py-2\">{index + 1}</td>\n                <StudentRow\n                  student={student}\n                  onSyncStart={(mail) => {\n                    //                    addToSyncing(mail);\n                    //                    removeFromSyncingFailed(mail);\n                  }}\n                  onSyncComplete={(mail) => {\n                    //                    removeFromSyncing(mail);\n                    //                    removeFromSyncingFailed(mail);\n                  }}\n                  onSyncFailed={(mail) => {\n                    //                    removeFromSyncing(mail);\n                    //                    addToSyncingFailed(mail);\n                  }}\n                />\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default InstructorPage;\n","// StudentRow.js\nimport React, { useState } from \"react\";\nimport markAttendance from \"../repository/markAttendance\";\nimport {\n  faArrowRotateRight,\n  faExclamation,\n  faSyncAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nconst SyncStatusMap = {\n  Updated: 1,\n  Syncing: 2,\n  Failed: 3,\n};\n\nconst StudentRow = ({ student, onSyncStart, onSyncComplete, onSyncFailed }) => {\n  const [statusSelected, setStatusSelected] = useState(\"\");\n  const [syncStatus, setSyncStatus] = useState(SyncStatusMap.Updated);\n  const syncMismatch = student.status !== (statusSelected || student.status);\n\n  const focusButtonCss = \"z-10 ring-2 ring-blue-700 text-blue-700\";\n\n  function setStatusButtonPressed(status) {\n    if (syncStatus === SyncStatusMap.Syncing) return;\n    setSyncStatus(SyncStatusMap.Syncing);\n    onSyncStart(student.mail);\n\n    setStatusSelected(status);\n    markAttendance(student.mail, status)\n      .then((response) => {\n        student.status = response.status;\n        setSyncStatus(SyncStatusMap.Updated);\n        onSyncComplete(student.mail);\n      })\n      .catch(() => {\n        setSyncStatus(SyncStatusMap.Failed);\n        onSyncFailed(student.mail);\n      });\n  }\n  function retrySync() {\n    setStatusButtonPressed(statusSelected);\n  }\n  function getStatusStyle(status) {\n    if (status === \"Present\") {\n      return \"text-sky-700\";\n    } else if (status === \"Absent\") {\n      return \"text-red-700\";\n    } else if (status === \"Proxy\") {\n      return \"text-red-950\";\n    } else {\n      return \"\";\n    }\n  }\n  return (\n    <>\n      <td className=\"py-2\">{student.name}</td>\n      <td className=\"py-2\">{student.mail}</td>\n      <td className=\"py-2 pr-2\">\n        {syncStatus === SyncStatusMap.Updated && (\n          <div className=\"flex justify-between\">\n            <span className={`${getStatusStyle(student.status)}`}>\n              {student.status}\n            </span>\n            {syncMismatch && (\n              <FontAwesomeIcon icon={faExclamation} size=\"2x\" color=\"red\" />\n            )}\n          </div>\n        )}\n        {syncStatus === SyncStatusMap.Syncing && (\n          <FontAwesomeIcon icon={faSyncAlt} spin size=\"2x\" color=\"blue\" />\n        )}\n\n        {syncStatus === SyncStatusMap.Failed && (\n          <FontAwesomeIcon\n            icon={faArrowRotateRight}\n            onClick={retrySync}\n            size=\"2x\"\n            color=\"red\"\n          />\n        )}\n      </td>\n      <td className=\"py-2 flex items-center\">\n        <div className=\"inline-flex rounded-md shadow-sm\" role=\"group\">\n          <button\n            disabled={syncStatus === SyncStatusMap.Syncing}\n            type=\"button\"\n            className={`px-4 py-2 text-sm font-medium text-gray-900 bg-white border rounded-s-lg hover:bg-gray-100 hover:text-blue-700 ${\n              statusSelected === \"Present\" ? focusButtonCss : \"\"\n            }`}\n            onClick={() => {\n              setStatusButtonPressed(\"Present\");\n            }}\n          >\n            Present\n          </button>\n          <button\n            type=\"button\"\n            className={`px-4 py-2 text-sm font-medium text-gray-900 bg-white border hover:bg-gray-100 hover:text-blue-700  ${\n              statusSelected === \"Absent\" ? focusButtonCss : \"\"\n            }`}\n            onClick={() => {\n              setStatusButtonPressed(\"Absent\");\n            }}\n          >\n            Absent\n          </button>\n\n          <button\n            type=\"button\"\n            className={`px-4 py-2 text-sm font-medium text-gray-900 bg-white border  rounded-e-lg hover:bg-gray-100 hover:text-blue-700  ${\n              statusSelected === \"Proxy\" ? focusButtonCss : \"\"\n            }`}\n            onClick={() => {\n              setStatusButtonPressed(\"Proxy\");\n            }}\n          >\n            Proxy\n          </button>\n        </div>\n      </td>\n    </>\n  );\n};\n\nexport default StudentRow;\n","function markAttendance(mail, status) {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const response = await fetch(markAttendanceURL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          mail: mail.toLowerCase(),\n          status: status.toLowerCase(),\n        }),\n      });\n\n      if (response.ok) {\n        const jsonData = await response.json();\n\n        console.log(\n          `Attendance of ${jsonData[\"mail\"]} marked to ${jsonData[\"status\"]}`,\n        );\n        resolve(jsonData);\n      } else {\n        reject();\n      }\n    } catch (error) {\n      reject();\n      console.error(\"Error fetching JSON data:\", error);\n    } finally {\n    }\n  });\n}\n\nexport default markAttendance;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faDownload,\n  faLink,\n  faSpinner,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nconst Header = ({ classDetails, student }) => {\n  return (\n    <div className=\"w-full flex justify-between\">\n      <h2 className=\"text-3xl font-medium\">{classDetails.name}</h2>\n      <div className=\"flex justify-evenly gap-4\">\n        {student && (\n          <a className=\"text-blue-600\" href=\"/accounts/login\">\n            <FontAwesomeIcon icon={faLink} size=\"1x\" color=\"blue\" />\n            login\n          </a>\n        )}\n        {student && <p>This page is updated every 5 min</p>}\n\n        {student || (\n          <a\n            href={`${getAttendanceURL + \"download/\"}`}\n            className=\"px-4 py-2 text-sm font-medium text-gray-900 bg-gray-300 border rounded-s-lg hover:bg-gray-100 hover:text-blue-700\"\n          >\n            <FontAwesomeIcon icon={faDownload} size=\"1x\" color=\"blue\" />\n            Export to CSV\n          </a>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n\n//       <FontAwesomeIcon icon={faSpinner} spin size=\"3x\" color=\"blue\" />\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","parcelRegister","register","module","exports","value","$62149a6d9d3ba5e1$export$2e2bcd8739ae039","$ayMG0","$acw62","$6usw5","$jEyqx","$8Qx3l","$8oTda","allAttendance","classDetails","syncingSet","setSyncingSet","useState","Set","syncFailedSet","setSyncFailedSet","jsxs","className","children","jsx","default","student","href","type","size","FontAwesomeIcon","icon","faSyncAlt","spin","color","faCircleExclamation","map","index","onSyncStart","mail","onSyncComplete","onSyncFailed","$6413baa392bc17cf$export$2e2bcd8739ae039","$i4KJr","$6413baa392bc17cf$var$SyncStatusMap","Updated","Syncing","Failed","status","statusSelected","setStatusSelected","syncStatus","setSyncStatus","syncMismatch","focusButtonCss","setStatusButtonPressed","then","response","catch","Fragment","name","faExclamation","faArrowRotateRight","onClick","role","disabled","$d28cd9b8313abaa6$export$2e2bcd8739ae039","Promise","resolve","reject","fetch","markAttendanceURL","method","headers","body","JSON","stringify","toLowerCase","ok","jsonData","json","console","log","error","$e9bd92b954fbb741$export$2e2bcd8739ae039","faLink","getAttendanceURL","faDownload"],"version":3,"file":"InstructorPage.41eee7ac.js.map"}